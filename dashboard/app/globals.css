@import "tailwindcss";

/* ============================================
   Glassmorphic AQI Dashboard - Design Tokens
   ============================================ */

@theme {
  /* AQI Category Colors */
  --color-aqi-good: #4ade80;
  --color-aqi-moderate: #fcd34d;
  --color-aqi-unhealthy: #fb923c;
  --color-aqi-very-unhealthy: #ef4444;
  --color-aqi-hazardous: #7c2d12;

  /* Glassmorphism Colors - Light Mode */
  --color-glass-light: rgba(255, 255, 255, 0.1);
  --color-glass-border: rgba(255, 255, 255, 0.18);
  --color-glass-dark: rgba(0, 0, 0, 0.3);

  /* Glassmorphism Colors - Dark Mode */
  --color-glass-dark-bg: rgba(15, 23, 42, 0.6);
  --color-glass-dark-border: rgba(148, 163, 184, 0.1);
  --color-glass-dark-hover: rgba(30, 41, 59, 0.7);

  /* Text Colors - Light Mode */
  --color-text-primary-light: rgba(255, 255, 255, 0.95);
  --color-text-secondary-light: rgba(255, 255, 255, 0.7);
  --color-text-tertiary-light: rgba(255, 255, 255, 0.5);

  /* Text Colors - Dark Mode (WCAG AA Compliant) */
  --color-text-primary-dark: rgba(248, 250, 252, 0.95);
  --color-text-secondary-dark: rgba(203, 213, 225, 0.9);
  --color-text-tertiary-dark: rgba(148, 163, 184, 0.8);

  /* Background Colors - Dark Mode */
  --color-bg-dark-primary: #0f172a;
  --color-bg-dark-secondary: #1e293b;
  --color-bg-dark-tertiary: #334155;

  /* Spacing Scale (4px base unit) */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;
  --spacing-3xl: 64px;

  /* Typography Scale */
  --font-family-sans: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, monospace;

  --font-size-display: 72px;
  --line-height-display: 1;
  --font-weight-display: 700;

  --font-size-h1: 32px;
  --line-height-h1: 1.2;
  --font-weight-h1: 600;

  --font-size-h2: 20px;
  --line-height-h2: 1.3;
  --font-weight-h2: 600;

  --font-size-h3: 16px;
  --line-height-h3: 1.4;
  --font-weight-h3: 500;

  --font-size-body: 14px;
  --line-height-body: 1.5;
  --font-weight-body: 400;

  --font-size-caption: 12px;
  --line-height-caption: 1.4;
  --font-weight-caption: 400;

  --font-size-micro: 10px;
  --line-height-micro: 1.2;
  --font-weight-micro: 500;
  --letter-spacing-micro: 0.5px;

  /* Elevation Shadows - Light Mode */
  --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  --shadow-level-1: 0 2px 8px rgba(0, 0, 0, 0.1);
  --shadow-level-2: 0 4px 16px rgba(0, 0, 0, 0.15);
  --shadow-level-3: 0 8px 32px rgba(0, 0, 0, 0.2);
  --shadow-glow: 0 0 20px rgba(245, 158, 11, 0.5);

  /* Elevation Shadows - Dark Mode */
  --shadow-glass-dark: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
  --shadow-level-1-dark: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-level-2-dark: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-level-3-dark: 0 8px 32px rgba(0, 0, 0, 0.6);
  --shadow-glow-dark: 0 0 20px rgba(59, 130, 246, 0.4);

  /* Backdrop Blur */
  --blur-glass: 20px;

  /* Animation Durations */
  --duration-fast: 0.1s;
  --duration-normal: 0.3s;
  --duration-slow: 0.4s;
  --duration-animation: 1.5s;
  --duration-draw: 2s;

  /* Animation Timing Functions */
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   Glassmorphism Utility Classes
   ============================================ */

.glass-card {
  background: var(--color-glass-light);
  backdrop-filter: blur(var(--blur-glass));
  -webkit-backdrop-filter: blur(var(--blur-glass));
  border: 1px solid var(--color-glass-border);
  border-radius: 16px;
  box-shadow: var(--shadow-glass);
}

/* Dark mode variant for glass cards */
.dark .glass-card {
  background: var(--color-glass-dark-bg);
  border: 1px solid var(--color-glass-dark-border);
  box-shadow: var(--shadow-glass-dark);
}

.glass-card-dark {
  background: var(--color-glass-dark);
  backdrop-filter: blur(var(--blur-glass));
  -webkit-backdrop-filter: blur(var(--blur-glass));
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  box-shadow: var(--shadow-glass);
}

/* ============================================
   Dynamic Background Gradients
   ============================================ */

.bg-gradient-good {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.bg-gradient-moderate {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.bg-gradient-unhealthy {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.bg-gradient-very-unhealthy {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.bg-gradient-hazardous {
  background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
}

/* Dark Mode Gradient Backgrounds */
.dark .bg-gradient-good {
  background: linear-gradient(135deg, #4c1d95 0%, #5b21b6 100%);
}

.dark .bg-gradient-moderate {
  background: linear-gradient(135deg, #7c2d12 0%, #991b1b 100%);
}

.dark .bg-gradient-unhealthy {
  background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
}

.dark .bg-gradient-very-unhealthy {
  background: linear-gradient(135deg, #9f1239 0%, #be123c 100%);
}

.dark .bg-gradient-hazardous {
  background: linear-gradient(135deg, #0c4a6e 0%, #1e1b4b 100%);
}

/* ============================================
   Animation Keyframes
   ============================================ */

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes drawLine {
  from {
    stroke-dashoffset: 1000;
  }

  to {
    stroke-dashoffset: 0;
  }
}

@keyframes pulseGlow {

  0%,
  100% {
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
  }

  50% {
    box-shadow: 0 0 30px rgba(245, 158, 11, 0.6);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }

  100% {
    background-position: 1000px 0;
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

@keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

/* Animation Utility Classes */
.animate-fade-in {
  animation: fadeIn var(--duration-slow) var(--ease-default);
}

.animate-slide-up {
  animation: slideUp var(--duration-slow) var(--ease-default);
}

.animate-draw-line {
  animation: drawLine var(--duration-draw) ease-out;
}

.animate-pulse-glow {
  animation: pulseGlow 2s ease-in-out infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-ping {
  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}

/* Shimmer Effect for Skeletons */
.skeleton-shimmer {
  position: relative;
  overflow: hidden;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite linear;
}

.dark .skeleton-shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.02) 0%,
    rgba(255, 255, 255, 0.06) 50%,
    rgba(255, 255, 255, 0.02) 100%
  );
  background-size: 1000px 100%;
}

/* ============================================
   Hover Effects
   ============================================ */

.hover-lift {
  transition: transform var(--duration-normal) ease, box-shadow var(--duration-normal) ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-level-3);
}

.hover-scale {
  transition: transform var(--duration-fast) ease;
}

.hover-scale:active {
  transform: scale(0.95);
}

/* ============================================
   Focus Indicators (Task 20.2)
   ============================================ */

/* Default focus indicator - visible outline */
*:focus {
  outline: 2px solid var(--color-primary, #4299e1);
  outline-offset: 2px;
}

/* Focus within (for containers with focusable children) */
*:focus-within {
  outline: 2px solid rgba(66, 153, 225, 0.3);
  outline-offset: 2px;
}

/* Glow effect for buttons and interactive elements */
button:focus,
a:focus,
[role="button"]:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
  position: relative;
  z-index: 10;
}

/* Focus visible (only on keyboard navigation) */
*:focus-visible {
  outline: 2px solid #4299e1;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.3);
}

/* Dark mode focus indicators */
.dark *:focus,
.dark *:focus-visible {
  outline-color: #63b3ed;
  box-shadow: 0 0 0 3px rgba(99, 179, 237, 0.4);
}

/* Skip link (for keyboard navigation) */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-primary, #4299e1);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 100;
  border-radius: 0 0 4px 0;
  font-weight: 600;
}

.skip-link:focus {
  top: 0;
  outline: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Glass card focus enhancement */
.glass-card:focus-within {
  border-color: rgba(66, 153, 225, 0.5);
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.37),
    0 0 0 2px rgba(66, 153, 225, 0.3);
}

/* Focus indicators for custom components */
.focus-glow:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
}

.focus-ring:focus {
  outline: 2px solid #4299e1;
  outline-offset: 2px;
}

/* Ensure focus is visible in all states */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Screen Reader Only (visually hidden but accessible) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Screen reader only, but focusable */
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* ============================================
   Accessibility
   ============================================ */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .glass-card {
    border: 2px solid currentColor;
  }
}

/* ============================================
   Base Styles
   ============================================ */

:root {
  --background: #ffffff;
  --foreground: #171717;
}

/* Dark mode styles using data-theme attribute */
[data-theme="dark"] {
  --background: #0f172a;
  --foreground: #f8fafc;
}

/* Fallback for prefers-color-scheme */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --background: #0f172a;
    --foreground: #f8fafc;
  }
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-body);
  line-height: var(--line-height-body);
  font-weight: var(--font-weight-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ============================================
   Typography Utility Classes
   ============================================ */

.text-display {
  font-size: var(--font-size-display);
  line-height: var(--line-height-display);
  font-weight: var(--font-weight-display);
}

.text-h1 {
  font-size: var(--font-size-h1);
  line-height: var(--line-height-h1);
  font-weight: var(--font-weight-h1);
}

.text-h2 {
  font-size: var(--font-size-h2);
  line-height: var(--line-height-h2);
  font-weight: var(--font-weight-h2);
}

.text-h3 {
  font-size: var(--font-size-h3);
  line-height: var(--line-height-h3);
  font-weight: var(--font-weight-h3);
}

.text-body {
  font-size: var(--font-size-body);
  line-height: var(--line-height-body);
  font-weight: var(--font-weight-body);
}

.text-caption {
  font-size: var(--font-size-caption);
  line-height: var(--line-height-caption);
  font-weight: var(--font-weight-caption);
}

.text-micro {
  font-size: var(--font-size-micro);
  line-height: var(--line-height-micro);
  font-weight: var(--font-weight-micro);
  letter-spacing: var(--letter-spacing-micro);
  text-transform: uppercase;
}

/* ============================================
   Spacing Utility Classes
   ============================================ */

.space-xs {
  margin: var(--spacing-xs);
}

.space-sm {
  margin: var(--spacing-sm);
}

.space-md {
  margin: var(--spacing-md);
}

.space-lg {
  margin: var(--spacing-lg);
}

.space-xl {
  margin: var(--spacing-xl);
}

.space-2xl {
  margin: var(--spacing-2xl);
}

.space-3xl {
  margin: var(--spacing-3xl);
}

.gap-xs {
  gap: var(--spacing-xs);
}

.gap-sm {
  gap: var(--spacing-sm);
}

.gap-md {
  gap: var(--spacing-md);
}

.gap-lg {
  gap: var(--spacing-lg);
}

.gap-xl {
  gap: var(--spacing-xl);
}

.gap-2xl {
  gap: var(--spacing-2xl);
}

.gap-3xl {
  gap: var(--spacing-3xl);
}

/* ============================================
   AQI Color Utility Classes
   ============================================ */

.text-aqi-good {
  color: var(--color-aqi-good);
}

.text-aqi-moderate {
  color: var(--color-aqi-moderate);
}

.text-aqi-unhealthy {
  color: var(--color-aqi-unhealthy);
}

.text-aqi-very-unhealthy {
  color: var(--color-aqi-very-unhealthy);
}

.text-aqi-hazardous {
  color: var(--color-aqi-hazardous);
}

.bg-aqi-good {
  background-color: var(--color-aqi-good);
}

.bg-aqi-moderate {
  background-color: var(--color-aqi-moderate);
}

.bg-aqi-unhealthy {
  background-color: var(--color-aqi-unhealthy);
}

.bg-aqi-very-unhealthy {
  background-color: var(--color-aqi-very-unhealthy);
}

.bg-aqi-hazardous {
  background-color: var(--color-aqi-hazardous);
}

.border-aqi-good {
  border-color: var(--color-aqi-good);
}

.border-aqi-moderate {
  border-color: var(--color-aqi-moderate);
}

.border-aqi-unhealthy {
  border-color: var(--color-aqi-unhealthy);
}

.border-aqi-very-unhealthy {
  border-color: var(--color-aqi-very-unhealthy);
}

.border-aqi-hazardous {
  border-color: var(--color-aqi-hazardous);
}